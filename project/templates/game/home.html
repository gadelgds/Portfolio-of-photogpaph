{% extends 'game/base.html' %}

{% block content %}
<h2>–ì–∞–ª–µ—Ä–µ—è –º–æ–∏—Ö —Ä–∞–±–æ—Ç</h2>
<p>–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –º–æ–∏—Ö —Ä–∞–±–æ—Ç</p>

<!-- –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º -->
{% if categories %}
<div style="margin: 20px 0; padding: 15px; background: #f5f5f5; border-radius: 8px;">
    <strong>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏:</strong>
    <a href="{% url 'home' %}" class="button" style="{% if not selected_category %}background: #2c3e50;{% else %}background: #95a5a6;{% endif %} margin: 5px;">–í—Å–µ</a>
    {% for category in categories %}
    <a href="?category={{ category.slug }}" class="button" style="{% if selected_category == category %}background: #2c3e50;{% else %}background: #95a5a6;{% endif %} margin: 5px;">{{ category.name }}</a>
    {% endfor %}
</div>
{% endif %}

<div class="gallery">
    {% for photo in photos %}
    <div class="photo-card">
        <a href="{% url 'photo_detail' photo.id %}">
            <img src="{{ photo.preview.url|default:photo.image.url }}" alt="{{ photo.title }}">
        </a>
        <h3>{{ photo.title }}</h3>
        
        {% if photo.category %}
        <div style="color: #3498db; font-size: 12px; margin: 5px 0;">
            üìÅ {{ photo.category.name }}
        </div>
        {% endif %}
        
        {% if photo.tags.all %}
        <div style="font-size: 12px; margin: 5px 0;">
            {% for tag in photo.tags.all %}
            <span style="background: #ecf0f1; padding: 2px 8px; border-radius: 3px; margin: 2px; display: inline-block;">üè∑Ô∏è {{ tag.name }}</span>
            {% endfor %}
        </div>
        {% endif %}
        
        <div style="color: #666; font-size: 14px; margin: 10px 0;">
            ‚ù§Ô∏è {{ photo.likes }} | üëÅÔ∏è {{ photo.views }}
        </div>
        <a href="{% url 'photo_detail' photo.id %}" class="button">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å</a>
    </div>
    {% endfor %}
</div>

<div style="background: #e8f4f8; padding: 20px; border-radius: 8px; margin-top: 30px;">
    <h3>üí° –ü–æ—á–µ–º—É –≤—ã–±–∏—Ä–∞—é—Ç –º–µ–Ω—è?</h3>
    <ul>
        <li>–ë–æ–ª–µ–µ 5 –ª–µ—Ç –æ–ø—ã—Ç–∞</li>
        <li>–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</li>
        <li>–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ü–µ–Ω—ã</li>
        <li>–ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ç–æ</li>
    </ul>
</div>
{% endblock %}