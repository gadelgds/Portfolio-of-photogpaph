{% extends 'game/base.html' %}

{% block content %}
<h2>Галерея моих работ</h2>
<p>Посмотрите примеры моих работ</p>

<!-- Фильтр по категориям -->
{% if categories %}
<div class="category-filter">
    <strong>Категории:</strong>
    <a href="{% url 'home' %}" class="button category-button {% if not selected_category %}category-button-active{% else %}category-button-inactive{% endif %}">Все</a>
    {% for category in categories %}
    <a href="?category={{ category.slug }}" class="button category-button {% if selected_category == category %}category-button-active{% else %}category-button-inactive{% endif %}">{{ category.name }}</a>
    {% endfor %}
</div>
{% endif %}

<div class="gallery">
    {% for photo in photos %}
    <div class="photo-card">
        <img src="{{ photo.preview.url|default:photo.image.url }}" 
             alt="{{ photo.title }}" 
             onclick="openImageModal('{{ photo.image.url }}', '{{ photo.title }}')"
             style="cursor: pointer;">
        <h3>{{ photo.title }}</h3>
        
        {% if photo.category %}
        <div class="photo-category">
            {{ photo.category.name }}
        </div>
        {% endif %}
        
        {% if photo.tags.all %}
        <div class="photo-tags">
            {% for tag in photo.tags.all %}
            <span class="tag">{{ tag.name }}</span>
            {% endfor %}
        </div>
        {% endif %}
        
        <div class="photo-stats">
            {{ photo.likes }} лайков | {{ photo.views }} просмотров
        </div>
        <a href="{% url 'photo_detail' photo.id %}" class="button">Посмотреть</a>
    </div>
    {% endfor %}
</div>

<div class="benefits-box">
    <h3>Почему выбирают меня?</h3>
    <ul>
        <li>Более 5 лет опыта</li>
        <li>Современное оборудование</li>
        <li>Доступные цены</li>
        <li>Быстрая обработка фото</li>
    </ul>
</div>
{% endblock %}